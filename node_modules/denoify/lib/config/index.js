"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const cosmiconfig_1 = require("cosmiconfig");
const parseParams_1 = require("./parseParams");
const config = (() => {
    const packageJson = "package.json";
    return {
        packageJson,
        "supportedConfigFile": (() => {
            const denoify = "denoify";
            const rcs = ["", ".json", ".yaml", ".yml"];
            const configs = [".js", ".cjs"];
            // in order of precedence
            return [packageJson].concat(rcs.concat(configs).map(extension => `.${denoify}rc${extension}`), configs.map(extension => `${denoify}.config${extension}`));
        })(),
        "getDenoifyParamsWithCosmiconfig": async () => {
            var _a;
            const explorer = (0, cosmiconfig_1.cosmiconfig)("denoify");
            const search = await explorer.search();
            if (search) {
                console.log(`Configurations from ${search.filepath} are used`);
            }
            return (0, parseParams_1.parseAsDenoifyParams)((_a = search === null || search === void 0 ? void 0 : search.config) !== null && _a !== void 0 ? _a : undefined);
        }
    };
})();
exports.default = config;
//# sourceMappingURL=index.js.map